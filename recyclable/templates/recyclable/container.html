{% extends "base_generic.html" %}

{% block title %}
    Container
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Container {{ barcode }}</h1>

    {% if message %}
        <div class="alert alert-danger">
            {{ message }}
        </div>
    {% endif %}

    <form action="{% url 'recyclable:num_images' %}" method="post" class="needs-validation" novalidate>
        {% csrf_token %}

        <div class="mb-3">
            <label for="barcode" class="form-label">Barcode:</label>
            <input id="barcode" type="text" name="barcode" value="{{ barcode }}" class="form-control" readonly>
        </div>

        <div class="mb-3">
            <label for="brand" class="form-label">Brand name:</label>
            <input id="brand" type="text" name="brand" value="{{ container.brand }}" class="form-control">
        </div>

        <div class="mb-3">
            <label for="product_name" class="form-label">Product name:</label>
            <input id="product_name" type="text" name="product_name" value="{{ container.product_name }}" class="form-control">
        </div>

        <!-- Material Type -->
        <div class="mb-3">
            <label for="material_type" class="form-label">Material Type:</label>
            <select id="material_type" name="material_type" class="form-select">
                {% for key, value in material_types %}
                    <option value="{{ key }}" {% if container.material_type == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Plastic Code -->
        <div class="mb-3">
            <label for="plastic_code" class="form-label">Plastic Code:</label>
            <select id="plastic_code" name="plastic_code" class="form-select">
                {% for key, value in plastic_codes %}
                    <option value="{{ key }}" {% if container.plastic_code == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Rigidity -->
        <div class="mb-3">
            <label for="rigidity" class="form-label">Rigidity:</label>
            <select id="rigidity" name="rigidity" class="form-select">
                {% for key, value in rigidity_types %}
                    <option value="{{ key }}" {% if container.rigidity == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Shape -->
        <div class="mb-3">
            <label for="shape" class="form-label">Shape:</label>
            <select id="shape" name="shape" class="form-select">
                {% for key, value in shape_types %}
                    <option value="{{ key }}" {% if container.shape == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Content Type -->
        <div class="mb-3">
            <label for="content_type" class="form-label">Content Type:</label>
            <select id="content_type" name="content_type" class="form-select">
                {% for key, value in content_types %}
                    <option value="{{ key }}" {% if container.content_type == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Hazardous -->
        <div class="mb-3">
            <label for="hazardous" class="form-label">Hazardous:</label>
            <select id="hazardous" name="hazardous" class="form-select">
                {% for key, value in hazardous_choices %}
                    <option value="{{ key }}" {% if container.hazardous == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Beverage Type -->
        <div class="mb-3">
            <label for="beverage_type" class="form-label">Beverage Type:</label>
            <select id="beverage_type" name="beverage_type" class="form-select">
                {% for key, value in beverage_types %}
                    <option value="{{ key }}" {% if container.beverage_type == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Alcohol Percentage -->
        <div class="mb-3">
            <label for="alcohol_percentage" class="form-label">Alcohol Percentage:</label>
            <input id="alcohol_percentage" type="number" step="0.1" name="alcohol_percentage" value="{{ container.alcohol_percentage|default_if_none:'' }}" class="form-control">
        </div>

        <!-- Alcoholic -->
        <div class="mb-3">
            <label for="alcoholic" class="form-label">Alcoholic:</label>
            <select id="alcoholic" name="alcoholic" class="form-select">
                {% for key, value in alcoholic_choices %}
                    <option value="{{ key }}" {% if container.alcoholic == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Alcoholic Drinks Type -->
        <div class="mb-3">
            <label for="alcoholic_drinks_type" class="form-label">Alcoholic Drinks Type:</label>
            <select id="alcoholic_drinks_type" name="alcoholic_drinks_type" class="form-select">
                {% for key, value in alcoholic_drinks_types %}
                    <option value="{{ key }}" {% if container.alcoholic_drinks_type == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Wine Bottle Shape -->
        <div class="mb-3">
            <label for="wine_bottle_shape" class="form-label">Wine Bottle Shape:</label>
            <select id="wine_bottle_shape" name="wine_bottle_shape" class="form-select">
                {% for key, value in wine_bottle_shapes %}
                    <option value="{{ key }}" {% if container.wine_bottle_shape == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Wine Type -->
        <div class="mb-3">
            <label for="wine_type" class="form-label">Wine Type:</label>
            <select id="wine_type" name="wine_type" class="form-select">
                {% for key, value in wine_types %}
                    <option value="{{ key }}" {% if container.wine_type == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Liquid Volume -->
        <div class="mb-3">
            <label for="liquid_volume" class="form-label">Liquid Volume:</label>
            <input id="liquid_volume" type="number" step="any" name="liquid_volume" value="{{ container.liquid_volume|default_if_none:'' }}" class="form-control">
        </div>

        <!-- Liquid Volume Unit -->
        <div class="mb-3">
            <label for="liquid_volume_unit" class="form-label">Liquid Volume Unit:</label>
            <select id="liquid_volume_unit" name="liquid_volume_unit" class="form-select">
                {% for key, value in liquid_volume_units %}
                    <option value="{{ key }}" {% if container.liquid_volume_unit == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Mass (gram) -->
        <div class="mb-3">
            <label for="mass_gram" class="form-label">Mass (gram):</label>
            <input id="mass_gram" type="number" step="any" name="mass_gram" value="{{ container.mass_gram|default_if_none:'' }}" class="form-control">
        </div>

        <!-- States -->
        <div class="mb-3">
            <label class="form-label">States:</label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ca" name="ca" {% if container.ca %}checked{% endif %}>
                <label class="form-check-label" for="ca">CA</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ct" name="ct" {% if container.ct %}checked{% endif %}>
                <label class="form-check-label" for="ct">CT</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="gu" name="gu" {% if container.gu %}checked{% endif %}>
                <label class="form-check-label" for="gu">GU</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="hi" name="hi" {% if container.hi %}checked{% endif %}>
                <label class="form-check-label" for="hi">HI</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ia" name="ia" {% if container.ia %}checked{% endif %}>
                <label class="form-check-label" for="ia">IA</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="me" name="me" {% if container.me %}checked{% endif %}>
                <label class="form-check-label" for="me">ME</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ma" name="ma" {% if container.ma %}checked{% endif %}>
                <label class="form-check-label" for="ma">MA</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="mi" name="mi" {% if container.mi %}checked{% endif %}>
                <label class="form-check-label" for="mi">MI</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ny" name="ny" {% if container.ny %}checked{% endif %}>
                <label class="form-check-label" for="ny">NY</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="Or" name="Or" {% if container.Or %}checked{% endif %}>
                <label class="form-check-label" for="Or">OR</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="vt" name="vt" {% if container.vt %}checked{% endif %}>
                <label class="form-check-label" for="vt">VT</label>
            </div>
        </div>

        <!-- Made In -->
        <div class="mb-3">
            <label for="made_in" class="form-label">Made In:</label>
            <input id="made_in" type="text" name="made_in" value="{{ container.made_in }}" class="form-control" maxlength="3" required pattern="[A-Z]{3}" title="Enter exactly 3 uppercase letters (A-Z)">
        </div>

        <!-- Juice Percentage -->
        <div class="mb-3">
            <label for="juice_percentage" class="form-label">Juice Percentage:</label>
            <input id="juice_percentage" type="number" step="0.1" name="juice_percentage" value="{{ container.juice_percentage|default_if_none:'' }}" class="form-control">
        </div>

        <!-- Material Color -->
        <div class="mb-3">
            <label for="material_color" class="form-label">Material Color:</label>
            <select id="material_color" name="material_color" class="form-select">
                {% for key, value in material_color %}
                    <option value="{{ key }}" {% if container.material_color == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Ribbed -->
        <div class="mb-3">
            <label for="ribbed" class="form-label">Ribbed:</label>
            <select id="ribbed" name="ribbed" class="form-select">
                {% for key, value in ribbed_types %}
                    <option value="{{ key }}" {% if container.ribbed == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Ringed -->
        <div class="mb-3">
            <label for="ringed" class="form-label">Ringed:</label>
            <select id="ringed" name="ringed" class="form-select">
                {% for key, value in ringed_types %}
                    <option value="{{ key }}" {% if container.ringed == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Visual Volume -->
        <div class="mb-3">
            <label for="visual_volume" class="form-label">Visual Volume:</label>
            <select id="visual_volume" name="visual_volume" class="form-select">
                {% for key, value in visual_volumes %}
                    <option value="{{ key }}" {% if container.visual_volume == key %}selected{% endif %}>
                        {{ value }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="btn btn-primary">OK</button>
    </form>
</div>
{% endblock %}

<script>
    // Bootstrap validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>